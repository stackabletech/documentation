= Graceful shutdown

The article https://cloud.google.com/blog/products/containers-kubernetes/kubernetes-best-practices-terminating-with-grace[Kubernetes best practices: terminating with grace] describes very well, how graceful shutdown works in Kubernetes.

Our operators add the needed shutdown-mechanism for all the products that support graceful shutdown.

They also configure a sensible amount of time Pods are granted to properly shut down without disrupting the availability of the product.
If you are not satisfied with the default values, you can set the graceful shutdown timeout as follow:

[source,yaml]
----
spec:
  workers:
    config:
      gracefulShutdownTimeout: 1h # Set it for all worker roleGroups
    roleGroups:
      normal: # Will use 1h from the worker role config
        replicas: 1
      long: # Will use 6h from the roleGroup config below
        replicas: 1
        config:
          gracefulShutdownTimeout: 6h # Set it only for this specific roleGroup
----

The individual default timeouts are documented in the specific operators at the `Operations -> Graceful shutdown` usage-guide.
